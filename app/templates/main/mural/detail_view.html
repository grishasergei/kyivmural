{%  extends "base.html" %}

{% block styles %}
    {{ super() }}
    <link rel="stylesheet" href="{{url_for('static', filename='css/mural_detail_view.css')}}">
{%  endblock %}

{% block scripts %}
    {{ super() }}
    <script src="http://maps.google.com/maps/api/js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/gmaps.min.js') }}"></script>
    <script>
        var map = new GMaps({
            el: '#mural_location',
            lat: {{ mural.lat }},
            lng: {{ mural.lng }},
            zoom: 15
        });
        map.addMarker({
            lat: {{ mural.lat }},
            lng: {{ mural.lng }}
        })
        map.setZoom( map.getZoom() );
    </script>
{% endblock %}

{%  block content %}
    <div class="container">
        <div class="row">
            <!--  col-md-offset-2 -->
            <div class="col-md-9">
            {% for photo in mural.photos %}
                <div class="img-container">
                    <img src="{{ url_for('static', filename='mural_img/' + photo.file_name) }}" class="img-responsive center-block">
                {% if photo.has_copyright %}
                    <p class="img-copyright"><small>{{ photo.copyright_string }}</small></p>
                {% endif %}
                </div>
            {% endfor %}
            </div>
            <div class="col-md-3 ">
                <p>
                    {{ gettext('Coordinates') }}: {{ mural.lat }}, {{ mural.lng }}
                </p>
                <p>
                    {{ gettext('Address') }}: {{ mural.get_address(get_locale()) }}
                </p>
                <p>
                    <div id="mural_location" style="width: 100%; height: 300px"></div>
                </p>
            </div>
        </div>
    </div>
{% endblock %}